---
title: "R Notebook"
output: html_notebook
---

```{r}
library(tidyverse)
```

# Data and Aesthetics mapping

```{r}
ggplot(data = mpg) + 
       geom_point(mapping = aes(x = displ, y = hwy))
```


```{r}
ggplot(data = mpg) + 
    geom_point(mapping = aes(x = displ, y = hwy, color = cyl))
```


```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, size = cyl))
```


```{r}
ggplot(data = mpg) +  
   geom_point(mapping = aes(x = displ, y = hwy, size = cyl, alpha = 0.5))
```


```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, size = cyl, color = cyl, alpha = 0.5))
```



```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, shape = factor(cyl)))
```


```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy)) +
#facet_wrap(~ cyl, nrow = 2) 
facet_grid(. ~ cyl)
```
```{r}
ggplot(mpg, aes(x = displ, y = hwy)) + geom_point()
```


# Geometric Objects

## Plot One Variable

### One Continuous Variable

```{r}
ggplot(data = mpg) +
      geom_histogram(aes(x = hwy))
```

```{r}
ggplot(data = mpg) +
      geom_density(aes(x = hwy))
```

```{r}
ggplot(data = mpg) +
      geom_boxplot(aes(x = class, y = hwy))
```

### One Discrete Variable

```{r}
ggplot(data = mpg) +
      geom_bar(aes(x = class))
```




```{r}
ggplot(data = mpg) +
      stat_count(aes(x = class))
```

```{r}
ggplot(data = mpg) +
      geom_bar(aes(x = class, color = class))
```

```{r}
ggplot(data = mpg) +
      geom_bar(aes(x = class, fill = class))
```


## Plot Two Variables

```{r}
ggplot(data = mpg) +
   geom_point(mapping = aes(x = displ, y = hwy))
```
```{r}
ggplot(data = mpg) +
   geom_smooth(mapping = aes(x = displ, y = hwy))
```

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy)) +
  geom_smooth(mapping = aes(x = displ, y = hwy))
```

```{r}
ggplot(data = mpg) +
  geom_smooth(mapping = aes(x = displ, y = hwy, group = drv))
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
geom_point() +
geom_smooth()
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = class)) +
  geom_smooth()
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = class)) +
  geom_smooth(
  data = filter(mpg, class == "subcompact"),
  se = FALSE
)
```

```{r}
ggplot(data = mpg) +
  geom_smooth(
  mapping = aes(x = displ, y = hwy, color = drv)) 
```

```{r}
b <- ggplot(mpg, aes(x = displ, y = hwy))
```

```{r}
b + geom_point() + geom_smooth(method = lm)
```

```{r}
ggplot(data = mpg) +
stat_summary(
mapping = aes(x = displ, y = hwy),
fun.ymin = min,
fun.ymax = max,
fun.y = median
)
```
 
library(nycflights13)
flights

arrange(flights, year, month, day)
arrange(flights, desc(dep_delay))

flights_sml <- select(flights, year:day, 

               ends_with("delay"), distance, air_time ) 

mutate(flights_sml, gain = arr_delay - dep_delay, 

       speed = distance / air_time * 60
       
       
flights_sml <- select(flights, year:day, ends_with("delay"), distance, air_time )
mutate(flights_sml, 
   gain = arr_delay - dep_delay, 
   speed = distance / air_time * 60)